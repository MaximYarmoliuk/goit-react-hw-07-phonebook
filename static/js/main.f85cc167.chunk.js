(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={item:"ContactListItem_item__38PTE",button:"ContactListItem_button__3a2tP"}},20:function(t,e,n){t.exports={label:"Filter_label__39_6l",input:"Filter_input__sHR07"}},21:function(t,e,n){t.exports={checkbox:"ThemeSelector_checkbox__yU8Fb"}},38:function(t,e,n){t.exports=n(88)},7:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__3sDfq",contactLabel:"ContactForm_contactLabel__xofBd",contactInput:"ContactForm_contactInput__3gPst",contactSubmit:"ContactForm_contactSubmit__XMFZc"}},88:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(14),r=n.n(o),u=n(6),s=n(8),i=n(9),l=n(11),m=n(10),b=n(12),h=Object(a.createContext)(),f=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).toggleTheme=function(){n.setState({type:"dark"===n.state.type?"light":"dark"})},n.state={type:"light",themeConfig:{light:{headerBg:"#F7B30C",fontColor:"black",bodybg:"white"},dark:{headerBg:"#3c3c3c",fontColor:"white",bodybg:"black"}},toggleTheme:n.toggleTheme},n}return Object(b.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return c.a.createElement(h.Provider,{value:this.state},this.props.children)}}]),e}(a.Component);f.Consumer=h.Consumer;var d=function(t){return function(e){return c.a.createElement(f.Consumer,null,(function(n){return c.a.createElement(t,Object.assign({},e,{theme:n}))}))}},C=n(3),p=n(2),g={addContactsRequest:Object(p.b)("/contacts/addRequest"),addContactsSuccess:Object(p.b)("/contacts/addSuccess"),addContactsError:Object(p.b)("/contacts/addError"),fetchContactsRequest:Object(p.b)("/contacts/fetchRequest"),fetchContactsSuccess:Object(p.b)("/contacts/fetchSuccess"),fetchContactsError:Object(p.b)("/contacts/fetchError"),removeContactsRequest:Object(p.b)("/contacts/removeRequest"),removeContactsSuccess:Object(p.b)("/contacts/removeSuccess"),removeContactsError:Object(p.b)("/contacts/removeError"),changeFilter:Object(p.b)("contacts/changeFilter")},v=n(13),j=n.n(v);j.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/v1";var O="f9f2a270-49b1-45db-b304-75c015e05a15",E={addContact:function(t){var e=t.name,n=t.number;return function(t){t(g.addContactsRequest()),j.a.post("/contacts",{name:e,number:n},{headers:{Authorization:O,"Content-type":"application/json"}}).then((function(e){var n=e.data;return t(g.addContactsSuccess(n))})).catch((function(e){return t(g.addContactsError(e))}))}},fetchContacts:function(){return function(t){t(g.fetchContactsRequest()),j.a.get("/contacts",{headers:{Authorization:O}}).then((function(e){var n=e.data;return t(g.fetchContactsSuccess(n))})).catch((function(e){return t(g.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(g.removeContactsRequest()),j.a.delete("/contacts/".concat(t),{headers:{Authorization:O}}).then((function(){return e(g.removeContactsSuccess(t))})).catch((function(t){return e(g.removeContactsError(t))}))}}},y=n(24),F=function(t){return t.contacts.items},_=function(t){return t.contacts.filter},k=Object(y.a)([F,_],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),S={getContacts:F,getFilter:_,getFilteredContacts:k,getContactById:function(t,e){return F(t).find((function(t){return t.id===e}))}},N=n(7),R=n.n(N),q=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).state={name:"",number:""},n.handleSubmit=function(t){t.preventDefault();var e=n.state,a=e.name,c=e.number,o=function(t){return t.length<1},r=n.props.contacts.find((function(t){return t.name===a}));o("".concat(a))||o("".concat(c))?alert("Please, fill in all required entry fields"):r?alert("".concat(a," is already in contacts")):(n.props.addContact({name:a,number:c}),n.setState({name:"",number:""}))},n.handleChange=function(t){var e=t.target,a=e.name,c=e.value;n.setState(Object(C.a)({},a,c))},n}return Object(b.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement("form",{className:R.a.contactForm,onSubmit:this.handleSubmit},c.a.createElement("label",{className:R.a.contactLabel},"Name",c.a.createElement("input",{className:R.a.contactInput,type:"text",value:this.state.name,name:"name",onChange:this.handleChange})),c.a.createElement("label",{className:R.a.contactLabel},"Number",c.a.createElement("input",{className:R.a.contactInput,type:"number",value:this.state.number,name:"number",onChange:this.handleChange})),c.a.createElement("button",{className:R.a.contactSubmit,type:"submit"},"Add contact")))}}]),e}(a.Component),x={addContact:E.addContact},L=Object(u.b)((function(t){return{contacts:S.getContacts(t)}}),x)(q),w=n(35),I=n(19),B=n.n(I),P=Object(u.b)((function(t,e){var n=S.getContactById(t,e.id);return Object(w.a)({},n)}),(function(t,e){return{onRemoveContact:function(){return t(E.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,a=t.onRemoveContact;return c.a.createElement("li",{className:B.a.item},c.a.createElement("p",{className:"TaskList-text"},e,": ",n),c.a.createElement("button",{className:B.a.button,type:"button",onClick:a},"Delete"))})),T=Object(u.b)((function(t){return{contacts:S.getFilteredContacts(t)}}))((function(t){var e=t.contacts;return c.a.createElement("div",null,c.a.createElement("h2",null,"Contacts"),c.a.createElement("ul",{className:"Contact"},e.map((function(t){var e=t.id;return c.a.createElement(P,{key:e,id:e})}))))})),A=n(20),D=n.n(A);var z,J,M={onChangeFilter:g.changeFilter},U=Object(u.b)((function(t){return{value:S.getFilter(t)}}),M)((function(t){var e=t.value,n=t.onChangeFilter;return c.a.createElement("div",null,c.a.createElement("label",{className:D.a.label},"Find contacts by name",c.a.createElement("input",{type:"text",className:D.a.input,value:e,onChange:function(t){return n(t.target.value)}})))})),H=n(21),X=n.n(H),Z=d((function(t){var e=t.theme;return c.a.createElement("div",{className:X.a.center},c.a.createElement("span",{className:"label"},e.type),c.a.createElement("input",{type:"checkbox",className:X.a.checkbox,checked:"dark"===e.type,onChange:function(){return e.toggleTheme()}}))})),G=n(36),K=n.n(G),Q=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){console.log(this.props);var t=this.props.theme,e=t.themeConfig,n=t.type;return c.a.createElement("div",{style:{color:e[n].fontColor,background:e[n].bodybg}},this.props.isLoadingContacts&&c.a.createElement(K.a,{type:"Puff",color:"#00BFFF",height:50,width:50}),c.a.createElement(Z,null),c.a.createElement(L,null),this.props.contacts.length>=2&&c.a.createElement(U,null),c.a.createElement(T,null))}}]),e}(a.Component),V={onFetchContacts:E.fetchContacts},W=d(Object(u.b)((function(t){return{contacts:S.getContacts(t),isLoadingContacts:t.contacts.loading}}),V)(Q)),Y=n(37),$=n(5),tt=Object(p.c)([],(z={},Object(C.a)(z,g.fetchContactsSuccess,(function(t,e){return e.payload})),Object(C.a)(z,g.addContactsSuccess,(function(t,e){return[].concat(Object(Y.a)(t),[e.payload])})),Object(C.a)(z,g.removeContactsSuccess,(function(t,e){e.type;var n=e.payload;return t.filter((function(t){return t.id!==n}))})),z)),et=Object(p.c)("",Object(C.a)({},g.changeFilter,(function(t,e){e.type;return e.payload}))),nt=Object(p.c)(!1,(J={},Object(C.a)(J,g.fetchContactsRequest,(function(){return!0})),Object(C.a)(J,g.fetchContactsSuccess,(function(){return!1})),Object(C.a)(J,g.fetchContactsError,(function(){return!1})),Object(C.a)(J,g.addContactsRequest,(function(){return!0})),Object(C.a)(J,g.addContactsSuccess,(function(){return!1})),Object(C.a)(J,g.addContactsError,(function(){return!1})),Object(C.a)(J,g.removeContactsRequest,(function(){return!0})),Object(C.a)(J,g.removeContactsSuccess,(function(){return!1})),Object(C.a)(J,g.removeContactsError,(function(){return!1})),J)),at=Object($.combineReducers)({items:tt,filter:et,loading:nt}),ct=Object(p.a)({reducer:{contacts:at}});r.a.render(c.a.createElement(u.a,{store:ct},c.a.createElement(f,null,c.a.createElement(W,null))),document.querySelector("#root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.f85cc167.chunk.js.map